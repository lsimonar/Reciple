<div class="paper" [class.inverted]="isDarkMode">
    <div class="app-header" fxLayout="row" fxLayoutAlign="space-between center">
        <div fxLayout="row">
            <mat-icon class="left-icon" >favorite_border</mat-icon>
            <mat-icon (click)="openInfoDialog()">help_outline</mat-icon>
        </div>
        <h1 class="reciple-title">Reciple</h1>
        <div fxLayout="row">
            <mat-icon (click)="openStatisticsDialog()" class="left-icon">leaderboard</mat-icon>
            <mat-icon (click)="openSettingsDialog()">settings</mat-icon>
        </div>
    </div>
    <div class="home-screen-ctn" fxLayout="column" fxLayoutAlign="center center">
        <div *ngIf="!todaySolved">
            <mat-form-field class="input-box">
                <input id="Input" matInput type="text" placeholder="Enter reciple title" (ngModelChange)="onChange() " 
                autocomplete="off" [matAutocomplete]="auto" matAutocompletePosition="below" [formControl]="control"> 
                <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                    {{option}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
            <button id="Btn" style="line-height: 10px; border-radius: 25%; text-align: center;" mat-raised-button [disabled]="isRecipeValid === false" (click)="makeGuess()">
                <mat-icon>keyboard_return</mat-icon>
            </button>
        </div>
        <h2 *ngIf="todaySolved" style="text-decoration: underline;">{{solution.name}}</h2>
        <ng-container *ngFor="let j of numberOfTries">
            <div class="img-ctn" fxLayout="row" fxLayoutAlign="center center">
                <ng-container *ngFor="let i of numberOfSquares">         
                    <div class="reciple-tile" style="margin:3px;">
                        <div class="reciple-tile-inner" [ngClass]="attempt >= j+1? 'reciple-tile-inner-rotate': ''" style="--delay:{{i}}">
                            <div class="reciple-tile-front" style="margin:2px;">
                                <div></div>
                            </div>
                            <div class="reciple-tile-back" 
                                [ngClass]="attempt <=j? '' : guess[j][i]? 'right-guess' : 'wrong-guess'"
                                [class.high-contrast]="isHighContrast">
                                {{guessList[j][i]}}
                            </div>
                        </div>
                    </div>
                </ng-container>
            </div>
        </ng-container>
    </div>
</div>

