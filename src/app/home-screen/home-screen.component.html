<div class="paper" [class.inverted]="isDarkMode">
    <div class="app-header" fxLayout="row" fxLayoutAlign="space-between center">
        <h1 class="reciple-title">Reciple</h1>
        <div fxLayout="row">
            <mat-icon (click)="openStatisticsDialog()" class="left-icon">leaderboard</mat-icon>
            <mat-icon (click)="openSettingsDialog()" class="left-icon">settings</mat-icon>
            <mat-icon (click)="openInfoDialog()">help_outline</mat-icon>
        </div>
    </div>
    <div class="home-screen-ctn" fxLayout="column" fxLayoutAlign="center center">
        <ng-container *ngFor="let j of numberOfTries">
            <div class="img-ctn" fxLayout="row" fxLayoutAlign="center center">
                <ng-container *ngFor="let i of numberOfSquares">    
                    <div class="tooltip"> 
                        <span class="tooltiptext">{{guessListText[j][i]}}</span>    
                        <div class="reciple-tile" style="margin:3px;">
                            <div class="reciple-tile-inner" [ngClass]="attempt >= j+1? 'reciple-tile-inner-rotate': ''" style="--delay:{{i}}">
                                <div class="reciple-tile-front" style="margin:2px;">
                                    <div></div>
                                </div>
                                <div class="reciple-tile-back" 
                                    [ngClass]="attempt <=j? '' : guess[j][i]? 'right-guess' : 'wrong-guess'"
                                    [class.high-contrast]="isHighContrast">
                                    {{guessList[j][i]}}
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-container>
                <div *ngIf="false" class="guessed-recipe-text">{{guessBoxList[j]}}</div>
                <div class="attempt-circle" [ngClass]="attempt <=j? '' : todaysGuesses!.attempts[j].hit? 'attempted right-guess' : 'attempted wrong-guess'"></div>
            </div>
        </ng-container>
        <div *ngIf="!todaySolved">
            <mat-form-field class="input-box">
                <input #recipleInput matInput type="text" placeholder="Enter reciple title" (ngModelChange)="onChange() " 
                autocomplete="off" [matAutocomplete]="auto" matAutocompletePosition="above" [formControl]="control"> 
                <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
                    {{option}}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
            <button id="Btn" style="line-height: 10px; border-radius: 25%; text-align: center;" mat-raised-button [disabled]="isRecipeValid === false" (click)="makeGuess()">
                <mat-icon>keyboard_return</mat-icon>
            </button>
        </div>
        <ng-container *ngIf="todaySolved">
            <h3>{{solution.name}}, tasty!</h3>
        </ng-container>
    </div>
</div>

